(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{968:function(e,s,t){Promise.resolve().then(t.bind(t,5497))},5497:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var r=t(7437),a=t(9738),i=t.n(a),n=t(8614),l=t(2265),c=t(6691),o=t.n(c),d=t(4033),m=t(2860);function u(e){let{amount:s,orderData:t,onSuccess:a}=e,[i,n]=(0,l.useState)(null),[c,o]=(0,l.useState)(!1),d=e=>{console.error("PayPal Fehler:",e),n("Ein Fehler ist aufgetreten. Bitte versuchen Sie es sp\xe4ter erneut."),o(!1)},u=e=>({Deutschland:"DE",Ã–sterreich:"AT",Schweiz:"CH"})[e]||"DE";return(0,r.jsxs)("div",{className:"space-y-4",children:[i&&(0,r.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600",children:i}),(0,r.jsx)(m.ch,{style:{layout:"vertical"},disabled:c,createOrder:(e,r)=>(n(null),o(!0),r.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:s.toFixed(2),currency_code:"EUR"},shipping:{name:{full_name:"".concat(t.customerInfo.firstName," ").concat(t.customerInfo.lastName)},address:{address_line_1:t.customerInfo.address,admin_area_2:t.customerInfo.city,postal_code:t.customerInfo.postalCode,country_code:u(t.customerInfo.country)}}}]})),onApprove:async(e,s)=>{try{if(s.order){let e=await s.order.capture();console.log("PayPal Transaktion erfolgreich",e),a()}}catch(e){d(e)}finally{o(!1)}},onError:d,onCancel:()=>{n("Zahlung wurde abgebrochen. Bitte versuchen Sie es erneut."),o(!1)}}),c&&(0,r.jsx)("div",{className:"text-center text-gray-600",children:"Bitte warten, Ihre Zahlung wird verarbeitet..."})]})}let x=[{id:"de",name:"Deutschland",code:"DE",basePrice:5.99,options:[{id:"dhl-standard",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"2-3 Werktage",price:5.99},{id:"dhl-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"1-2 Werktage",price:9.99},{id:"hermes",name:"Hermes",carrier:"Hermes",description:"Standard Versand",estimatedDays:"2-4 Werktage",price:4.99}]},{id:"at",name:"\xd6sterreich",code:"AT",basePrice:9.99,options:[{id:"dhl-at",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"3-5 Werktage",price:9.99},{id:"dhl-at-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"2-3 Werktage",price:14.99}]},{id:"ch",name:"Schweiz",code:"CH",basePrice:14.99,options:[{id:"dhl-ch",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"4-6 Werktage",price:14.99},{id:"dhl-ch-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"2-4 Werktage",price:19.99}]}],h=e=>{let{countryCode:s}=e,[t,a]=(0,l.useState)(!1);return t?(0,r.jsx)("span",{className:"inline-block w-6 h-4 bg-gray-200 rounded mr-2"}):(0,r.jsx)(o(),{src:"https://flagcdn.com/".concat(s.toLowerCase(),".svg"),alt:"".concat(s," flag"),width:24,height:16,className:"inline-block align-middle mr-2",style:{verticalAlign:"-2px"},loading:"lazy",onError:()=>a(!0)})},f=[{id:1,name:"Lieferadresse",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{id:2,name:"Versand",icon:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0z M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"},{id:3,name:"Best\xe4tigung",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}];function g(){let e=(0,d.useRouter)(),{items:s,totalPrice:t,clearCart:a}=(0,n.useCart)(),[c,m]=(0,l.useState)(1),[g,p]=(0,l.useState)(()=>x[0]),[b,y]=(0,l.useState)(()=>x[0].options[0]),[j,v]=(0,l.useState)({email:"",firstName:"",lastName:"",address:"",city:"",postalCode:"",country:g.name,tiktokUsername:"",isOver18:!1,acceptTerms:!1}),[N,k]=(0,l.useState)(t);(0,l.useEffect)(()=>{if(b){let e=1===s.length&&10===s[0].id;k(e?t:t+b.price)}},[t,b,s]);let[w,S]=(0,l.useState)({}),C=(0,l.useCallback)((e,s)=>{if("boolean"==typeof s)return"isOver18"!==e||s?"acceptTerms"!==e||s?"":"Sie m\xfcssen die AGB akzeptieren":"Sie m\xfcssen mindestens 18 Jahre alt sein";if(!s.toString().trim())return"Pflichtfeld";switch(e){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.toString())?"":"Bitte geben Sie eine g\xfcltige E-Mail-Adresse ein";case"postalCode":return/^\d{5}$/.test(s.toString())?"":"Die PLZ muss aus 5 Ziffern bestehen";case"firstName":case"lastName":return s.toString().length<2?"Muss mindestens 2 Zeichen lang sein":"";case"address":return s.toString().length<5?"Bitte geben Sie eine vollst\xe4ndige Adresse ein":"";case"city":return s.toString().length<2?"Bitte geben Sie einen g\xfcltigen Ort ein":"";case"tiktokUsername":return s.toString().length<2?"Bitte geben Sie Ihren TikTok-Username ein":"";default:return""}},[]),E=(0,l.useCallback)(e=>{let{name:s,value:t}=e.target;v(e=>({...e,[s]:t}));let r=C(s,t);S(e=>({...e,[s]:r}))},[C]),z=(0,l.useCallback)(e=>{try{if(!x||0===x.length)throw Error("Keine Versanddaten verf\xfcgbar");let s=x.find(s=>s.id===e);if(!s)throw Error("Ung\xfcltige L\xe4nderauswahl");if(!s.options||0===s.options.length)throw Error("Keine Versandoptionen f\xfcr dieses Land verf\xfcgbar");p(s);let t=s.options[0];y(t),v(e=>({...e,country:s.name})),S(e=>({...e,country:""}))}catch(s){let e=s instanceof Error?s.message:"Ein Fehler ist aufgetreten";S(s=>({...s,country:e}))}},[]),D=(0,l.useCallback)(e=>{y(e),S(e=>({...e,shipping:""}))},[]);(0,l.useEffect)(()=>{b||S(e=>({...e,shipping:"Bitte w\xe4hlen Sie eine Versandoption"}))},[b]);let B=(0,l.useCallback)(()=>{let e={},t=!0,r=s.some(e=>10===e.id);if(r){let r=s.filter(e=>10===e.id).length;r>1&&(e.bidderNumber="Sie k\xf6nnen nur eine Bieternummer erwerben.",t=!1),j.tiktokUsername||(e.tiktokUsername="Bitte geben Sie Ihren TikTok-Username ein",t=!1),j.isOver18||(e.isOver18="Sie m\xfcssen mindestens 18 Jahre alt sein",t=!1),j.acceptTerms||(e.acceptTerms="Sie m\xfcssen die AGB akzeptieren",t=!1)}return["email","firstName","lastName","address","city","postalCode"].forEach(s=>{let r=C(s,j[s]);r&&(e[s]=r,t=!1)}),S(e),t},[j,C,s]),I=(0,l.useCallback)(e=>{if(e.preventDefault(),B()){let e=s.some(e=>10===e.id);m(e?3:2)}},[B,s]),L=(0,l.useCallback)(()=>{sessionStorage.setItem("orderComplete","true"),sessionStorage.setItem("orderData",JSON.stringify({items:s,customerInfo:j,shippingMethod:b,totalPrice:N})),a(),e.push("/checkout/success")},[a,e,s,j,b,N]);return(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50 py-12",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 max-w-4xl mx-auto px-4 mb-12",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 relative",children:[(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 absolute top-1/2 left-0 w-full h-1 bg-gray-200 transform -translate-y-1/2 rounded-full overflow-hidden",children:(0,r.jsx)("div",{style:{width:"".concat((c-1)/(f.length-1)*100,"%"),filter:"blur(0.5px)"},className:"jsx-9a625525c4eb44f3 h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-purple-600 transition-all duration-700 ease-out shadow-[0_0_10px_rgba(99,102,241,0.5)]"})}),(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 relative flex justify-between",children:f.map((e,s)=>(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 flex items-center",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 "+"\n								relative z-10 flex items-center justify-center w-16 h-16 rounded-full \n								transition-all duration-700 ease-out transform\n								".concat(c>=e.id?"bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-600 scale-110 shadow-[0_0_15px_rgba(99,102,241,0.3)] ring-4 ring-purple-100":"bg-white border-2 border-gray-300 hover:border-indigo-300 hover:shadow-md","\n								").concat(c===e.id?"animate-pulse-subtle":"","\n								group\n							  "),children:[(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-9a625525c4eb44f3 "+"w-7 h-7 transition-all duration-700 transform group-hover:scale-110 ".concat(c>=e.id?"text-white filter drop-shadow-md":"text-gray-400"),children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon,className:"jsx-9a625525c4eb44f3"})}),c>e.id&&(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 absolute inset-0 flex items-center justify-center animate-checkmark",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-9a625525c4eb44f3 w-8 h-8 text-white filter drop-shadow-lg",children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12",className:"jsx-9a625525c4eb44f3"})})})]}),(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 "+"\n							  mt-4 text-sm font-medium transition-all duration-500\n							  ".concat(c>=e.id?"text-indigo-600 scale-110":"text-gray-500","\n							"),children:e.name})]}),s<f.length-1&&(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 w-full mx-6",children:(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 "+"h-full bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-700 ease-in-out transform\n									".concat(c>e.id?"w-full scale-100":"w-0 scale-95")})})})]},e.id))})]}),(0,r.jsx)(i(),{id:"9a625525c4eb44f3",children:"@-webkit-keyframes pulse-subtle{0%,100%{-webkit-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(1.15);transform:scale(1.15)}}@-moz-keyframes pulse-subtle{0%,100%{-moz-transform:scale(1.1);transform:scale(1.1)}50%{-moz-transform:scale(1.15);transform:scale(1.15)}}@-o-keyframes pulse-subtle{0%,100%{-o-transform:scale(1.1);transform:scale(1.1)}50%{-o-transform:scale(1.15);transform:scale(1.15)}}@keyframes pulse-subtle{0%,100%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(1.15);-moz-transform:scale(1.15);-o-transform:scale(1.15);transform:scale(1.15)}}@-webkit-keyframes checkmark{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes checkmark{0%{-moz-transform:scale(0);transform:scale(0);opacity:0}50%{-moz-transform:scale(1.2);transform:scale(1.2)}100%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes checkmark{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{-o-transform:scale(1.2);transform:scale(1.2)}100%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes checkmark{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}.animate-pulse-subtle{-webkit-animation:pulse-subtle 2s infinite;-moz-animation:pulse-subtle 2s infinite;-o-animation:pulse-subtle 2s infinite;animation:pulse-subtle 2s infinite}.animate-checkmark{-webkit-animation:checkmark.5s ease-out forwards;-moz-animation:checkmark.5s ease-out forwards;-o-animation:checkmark.5s ease-out forwards;animation:checkmark.5s ease-out forwards}"})]}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[1===c&&(0,r.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vorname"}),(0,r.jsx)("input",{type:"text",name:"firstName",required:!0,value:j.firstName,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nachname"}),(0,r.jsx)("input",{type:"text",name:"lastName",required:!0,value:j.lastName,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("input",{type:"email",name:"email",required:!0,value:j.email,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500 ".concat(w.email?"border-red-500":"")}),w.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:w.email})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,r.jsx)("input",{type:"text",name:"address",required:!0,value:j.address,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stadt"}),(0,r.jsx)("input",{type:"text",name:"city",required:!0,value:j.city,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PLZ"}),(0,r.jsx)("input",{type:"text",name:"postalCode",required:!0,value:j.postalCode,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]})]}),s.some(e=>10===e.id)&&(0,r.jsxs)("div",{className:"space-y-4 mt-8 pt-8 border-t border-gray-200",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Bieternummer-Registrierung"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TikTok Username"}),(0,r.jsx)("input",{type:"text",name:"tiktokUsername",required:!0,value:j.tiktokUsername,onChange:E,className:"w-full px-4 py-2 border rounded-lg text-gray-700 focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",name:"isOver18",checked:j.isOver18,onChange:e=>{v(s=>({...s,isOver18:e.target.checked})),S(e=>({...e,isOver18:""}))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,r.jsx)("label",{className:"ml-2 block text-sm text-gray-700",children:"Ich best\xe4tige, dass ich mindestens 18 Jahre alt bin"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",name:"acceptTerms",checked:j.acceptTerms,onChange:e=>{v(s=>({...s,acceptTerms:e.target.checked})),S(e=>({...e,acceptTerms:""}))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,r.jsxs)("label",{className:"ml-2 block text-sm text-gray-700",children:["Ich akzeptiere die ",(0,r.jsx)("a",{href:"/agb",className:"text-indigo-600 hover:text-indigo-500",children:"AGB"})]})]})]}),w.isOver18&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:w.isOver18}),w.acceptTerms&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:w.acceptTerms})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Weiter zur Best\xe4tigung"})]}),2===c&&!s.some(e=>10===e.id)&&(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m(3)},className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Versandoptionen"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Land"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{className:"w-full px-10 py-2 border rounded-lg focus:ring-2 text-gray-900 focus:ring-indigo-500 appearance-none",value:g.id,onChange:e=>z(e.target.value),children:x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,r.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)(h,{countryCode:g.id.toLowerCase()})}),(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:(0,r.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),(0,r.jsx)("div",{className:"space-y-4 mt-6",children:g.options.map(e=>(0,r.jsx)("div",{className:"border border-gray-700 rounded-lg p-4 cursor-pointer transition-all transform hover:scale-[1.01] ".concat(b.id===e.id?"border-indigo-500 bg-violet-300/50 shadow-md":"hover:border-gray-600 hover:shadow-sm"),onClick:()=>D(e),children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(0,r.jsx)("span",{className:"inline-block bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded-full text-xs",children:e.estimatedDays})})]}),(0,r.jsxs)("div",{className:"flex items-center ml-4",children:[(0,r.jsxs)("span",{className:"font-bold text-lg text-indigo-600",children:[e.price.toFixed(2)," â‚¬"]}),b.id===e.id&&(0,r.jsx)("div",{className:"ml-4 h-5 w-5 text-indigo-600 animate-checkmark",children:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})},e.id))}),(0,r.jsx)("div",{className:"mt-6 p-4 bg-indigo-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Aktueller Versandpreis:"}),(0,r.jsxs)("span",{className:"font-bold text-indigo-600",children:[b.price.toFixed(2)," â‚¬"]})]})})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Weiter zur Best\xe4tigung"})]}),2===c&&s.some(e=>10===e.id)&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bieternummer-Registrierung"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Ihre Bieternummer wird Ihnen nach erfolgreicher Zahlung per E-Mail zugesendet."}),(0,r.jsx)("button",{onClick:()=>m(3),className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:opacity-90 transition-colors",children:"Weiter zur Zahlung"})]}),3===c&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Bestell\xfcbersicht"}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Gesamtbetrag: ",(0,r.jsxs)("span",{className:"font-bold text-xl",children:[N.toFixed(2)," â‚¬"]})]}),!s.some(e=>10===e.id)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Ihre Bestellung wird an folgende Adresse geliefert:"}),(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsxs)("p",{children:[j.firstName," ",j.lastName]}),(0,r.jsx)("p",{children:j.address}),(0,r.jsxs)("p",{children:[j.postalCode," ",j.city]}),(0,r.jsx)("p",{children:j.country})]})]}),s.some(e=>10===e.id)&&(0,r.jsxs)("div",{className:"text-gray-700",children:[(0,r.jsxs)("p",{className:"mb-2",children:["TikTok Username: ",j.tiktokUsername]}),(0,r.jsx)("p",{children:"Ihre Bieternummer wird Ihnen nach erfolgreicher Zahlung per E-Mail zugesendet."})]})]}),(0,r.jsx)("div",{className:"space-y-4",children:(0,r.jsx)(u,{amount:N,orderData:{items:s,customerInfo:j,shippingMethod:b},onSuccess:L})})]})]})}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-fit",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Zusammenfassung"}),(0,r.jsxs)("div",{className:"space-y-4",children:[s.map(e=>(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"relative w-20 h-20",children:(0,r.jsx)(o(),{src:e.image,alt:e.name,fill:!0,className:"rounded-lg object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Anzahl: ",e.quantity]}),(0,r.jsxs)("p",{className:"text-indigo-600 font-bold",children:[e.price," â‚¬"]})]})]},e.id)),(0,r.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 text-gray-700",children:[(0,r.jsx)("span",{children:"Zwischensumme"}),(0,r.jsxs)("span",{children:[t.toFixed(2)," â‚¬"]})]}),!s.some(e=>10===e.id)&&(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 text-gray-700",children:[(0,r.jsx)("span",{children:"Versand"}),(0,r.jsxs)("span",{children:[b.price.toFixed(2)," â‚¬"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold text-gray-900",children:[(0,r.jsx)("span",{children:"Gesamt"}),(0,r.jsxs)("span",{children:[N.toFixed(2)," â‚¬"]})]})]})]})]})]})})]})}},8614:function(e,s,t){"use strict";t.r(s),t.d(s,{CartProvider:function(){return c},useCart:function(){return o}});var r=t(7437),a=t(2265);let i="cart_items",n={getItems:()=>{let e=localStorage.getItem(i);return e?JSON.parse(e):[]},saveItems:e=>{localStorage.setItem(i,JSON.stringify(e))},clearItems:()=>{localStorage.removeItem(i)}},l=(0,a.createContext)(void 0);function c(e){let{children:s}=e,[t,i]=(0,a.useState)([]),[c,o]=(0,a.useState)(0),[d,m]=(0,a.useState)(0),[u,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=n.getItems();e&&Array.isArray(e)&&i(e)},[]),(0,a.useEffect)(()=>{let e=t.reduce((e,s)=>e+(s.quantity||0),0),s=t.reduce((e,s)=>e+s.price*(s.quantity||0),0);o(e),m(s),n.saveItems(t)},[t]);let h=e=>{if(10===e.id){let e=t.some(e=>10===e.id);if(e)return!1;if(t.length>0)return alert("Sie k\xf6nnen entweder eine Bieternummer ODER Mystery Boxes erwerben, nicht beides zusammen."),!1}else{let e=t.some(e=>10===e.id);if(e)return alert("Sie k\xf6nnen entweder eine Bieternummer ODER Mystery Boxes erwerben, nicht beides zusammen."),!1}return"number"==typeof e.id&&"number"==typeof e.price&&e.price>0&&"number"==typeof e.quantity&&e.quantity>0&&e.quantity<=10};return(0,r.jsx)(l.Provider,{value:{items:t,totalItems:c,totalPrice:d,isCartOpen:u,setIsCartOpen:x,addItem:e=>{if(!h(e)){10===e.id?alert("Sie k\xf6nnen nur eine Bieternummer erwerben."):console.error("Ung\xfcltiges Produkt");return}"number"==typeof e.price&&i(s=>{let t=s.find(s=>s.id===e.id);return t?s.map(s=>s.id===e.id?{...s,quantity:(s.quantity||0)+1}:s):[...s,{...e,quantity:1}]})},removeItem:e=>{i(s=>s.filter(s=>s.id!==e))},updateQuantity:(e,s)=>{s<1||i(t=>t.map(t=>t.id===e?{...t,quantity:s}:t))},clearCart:()=>{i([]),n.clearItems()}},children:s})}function o(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}}},function(e){e.O(0,[986,731,738,971,472,744],function(){return e(e.s=968)}),_N_E=e.O()}]);