(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{4878:(e,s,a)=>{Promise.resolve().then(a.bind(a,2899))},2899:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var r=a(5155),t=a(8803),i=a.n(t),n=a(4915),l=a(7621),o=a(2115),c=a(9034),d=a(5565);let m=[{id:"de",name:"Deutschland",code:"DE",flag:'<svg viewBox="0 0 24 16">\n      <rect width="24" height="5.33" y="0" fill="#000000" />\n      <rect width="24" height="5.33" y="5.33" fill="#DD0000" />\n      <rect width="24" height="5.33" y="10.66" fill="#FFCE00" />\n    </svg>',basePrice:5.99,options:[{id:"dhl-standard",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"2-3 Werktage",price:5.99},{id:"dhl-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"1-2 Werktage",price:9.99},{id:"hermes",name:"Hermes",carrier:"Hermes",description:"Standard Versand",estimatedDays:"2-4 Werktage",price:4.99}]},{id:"at",name:"\xd6sterreich",code:"AT",flag:'<svg viewBox="0 0 24 16">\n      <rect width="24" height="5.33" y="0" fill="#ED2939" />\n      <rect width="24" height="5.33" y="5.33" fill="#FFFFFF" />\n      <rect width="24" height="5.33" y="10.66" fill="#ED2939" />\n    </svg>',basePrice:9.99,options:[{id:"dhl-at",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"3-5 Werktage",price:9.99},{id:"dhl-at-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"2-3 Werktage",price:14.99}]},{id:"ch",name:"Schweiz",code:"CH",flag:'<svg viewBox="0 0 16 16">\n      <rect width="16" height="16" fill="#FF0000" />\n      <rect x="6.5" y="3" width="3" height="10" fill="white" />\n      <rect x="3" y="6.5" width="10" height="3" fill="white" />\n    </svg>',basePrice:14.99,options:[{id:"dhl-ch",name:"DHL Standard",carrier:"DHL",description:"Standard Versand",estimatedDays:"4-6 Werktage",price:14.99},{id:"dhl-ch-express",name:"DHL Express",carrier:"DHL",description:"Express Versand",estimatedDays:"2-4 Werktage",price:19.99}]}],x=e=>{let{flag:s}=e;return(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:s},className:"w-6 h-4 inline-block align-middle mr-2",style:{verticalAlign:"-2px"}})},h=[{id:1,name:"Lieferadresse",icon:"M18.364 17.364A9 9 0 007.636 6.636M18.364 17.364A9 9 0 119 3a9 9 0 019 9 9 9 0 010 .364M15 9l-3-3m0 0l-3 3m3-3v12"},{id:2,name:"Versand",icon:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"},{id:3,name:"Zahlung",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}];function f(){let{items:e,totalPrice:s,clearCart:a}=(0,n._)(),[t,f]=(0,o.useState)(1),[u,g]=(0,o.useState)(!1),[p,b]=(0,o.useState)(m[0]),[j,y]=(0,o.useState)(m[0].options[0]),[v,w]=(0,o.useState)({email:"",firstName:"",lastName:"",address:"",city:"",postalCode:"",country:"Deutschland"}),N=e=>{w({...v,[e.target.name]:e.target.value})},k=e=>{let s=m.find(s=>s.id===e)||m[0];b(s),y(s.options[0])},D=s+j.price;return(0,r.jsx)(l.default,{children:(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50 py-12",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 max-w-4xl mx-auto px-4 mb-12",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 relative",children:[(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 absolute top-1/2 left-0 w-full h-1 bg-gray-200 transform -translate-y-1/2 rounded-full overflow-hidden",children:(0,r.jsx)("div",{style:{width:"".concat((t-1)/(h.length-1)*100,"%"),filter:"blur(0.5px)"},className:"jsx-9a625525c4eb44f3 h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-purple-600 transition-all duration-700 ease-out shadow-[0_0_10px_rgba(99,102,241,0.5)]"})}),(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 relative flex justify-between",children:h.map((e,s)=>(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 flex items-center",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"jsx-9a625525c4eb44f3 "+"\n								relative z-10 flex items-center justify-center w-16 h-16 rounded-full \n								transition-all duration-700 ease-out transform\n								".concat(t>=e.id?"bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-600 scale-110 shadow-[0_0_15px_rgba(99,102,241,0.3)] ring-4 ring-purple-100":"bg-white border-2 border-gray-300 hover:border-indigo-300 hover:shadow-md","\n								").concat(t===e.id?"animate-pulse-subtle":"","\n								group\n							  "),children:[(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-9a625525c4eb44f3 "+"w-7 h-7 transition-all duration-700 transform group-hover:scale-110 ".concat(t>=e.id?"text-white filter drop-shadow-md":"text-gray-400"),children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon,className:"jsx-9a625525c4eb44f3"})}),t>e.id&&(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 absolute inset-0 flex items-center justify-center animate-checkmark",children:(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-9a625525c4eb44f3 w-8 h-8 text-white filter drop-shadow-lg",children:(0,r.jsx)("polyline",{points:"20 6 9 17 4 12",className:"jsx-9a625525c4eb44f3"})})})]}),(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 "+"\n							  mt-4 text-sm font-medium transition-all duration-500\n							  ".concat(t>=e.id?"text-indigo-600 scale-110":"text-gray-500","\n							"),children:e.name})]}),s<h.length-1&&(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 w-full mx-6",children:(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 h-1.5 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"jsx-9a625525c4eb44f3 "+"h-full bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-700 ease-in-out transform\n									".concat(t>e.id?"w-full scale-100":"w-0 scale-95")})})})]},e.id))})]}),(0,r.jsx)(i(),{id:"9a625525c4eb44f3",children:"@-webkit-keyframes pulse-subtle{0%,100%{-webkit-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(1.15);transform:scale(1.15)}}@-moz-keyframes pulse-subtle{0%,100%{-moz-transform:scale(1.1);transform:scale(1.1)}50%{-moz-transform:scale(1.15);transform:scale(1.15)}}@-o-keyframes pulse-subtle{0%,100%{-o-transform:scale(1.1);transform:scale(1.1)}50%{-o-transform:scale(1.15);transform:scale(1.15)}}@keyframes pulse-subtle{0%,100%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}50%{-webkit-transform:scale(1.15);-moz-transform:scale(1.15);-o-transform:scale(1.15);transform:scale(1.15)}}@-webkit-keyframes checkmark{0%{-webkit-transform:scale(0);transform:scale(0);opacity:0}50%{-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes checkmark{0%{-moz-transform:scale(0);transform:scale(0);opacity:0}50%{-moz-transform:scale(1.2);transform:scale(1.2)}100%{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes checkmark{0%{-o-transform:scale(0);transform:scale(0);opacity:0}50%{-o-transform:scale(1.2);transform:scale(1.2)}100%{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes checkmark{0%{-webkit-transform:scale(0);-moz-transform:scale(0);-o-transform:scale(0);transform:scale(0);opacity:0}50%{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}.animate-pulse-subtle{-webkit-animation:pulse-subtle 2s infinite;-moz-animation:pulse-subtle 2s infinite;-o-animation:pulse-subtle 2s infinite;animation:pulse-subtle 2s infinite}.animate-checkmark{-webkit-animation:checkmark.5s ease-out forwards;-moz-animation:checkmark.5s ease-out forwards;-o-animation:checkmark.5s ease-out forwards;animation:checkmark.5s ease-out forwards}"})]}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[1===t&&(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f(2)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 font-medium text-gray-700 mb-1",children:"Vorname"}),(0,r.jsx)("input",{type:"text",name:"firstName",required:!0,value:v.firstName,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-gray-600 font-medium text-gray-700 mb-1",children:"Nachname"}),(0,r.jsx)("input",{type:"text",name:"lastName",required:!0,value:v.lastName,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail"}),(0,r.jsx)("input",{type:"email",name:"email",required:!0,value:v.email,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,r.jsx)("input",{type:"text",name:"address",required:!0,value:v.address,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stadt"}),(0,r.jsx)("input",{type:"text",name:"city",required:!0,value:v.city,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PLZ"}),(0,r.jsx)("input",{type:"text",name:"postalCode",required:!0,value:v.postalCode,onChange:N,className:"w-full px-4 py-2 border text-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Weiter zur Zahlung"})]}),2===t&&(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f(3)},className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-6",children:"Versandoptionen"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"jsx-1fd619c208b3872",children:[(0,r.jsx)("label",{className:"jsx-1fd619c208b3872 block text-sm font-medium text-gray-900 mb-2",children:"Land"}),(0,r.jsx)("select",{value:p.id,onChange:e=>k(e.target.value),className:"jsx-1fd619c208b3872 w-full px-4 py-2 border rounded-lg focus:ring-2 text-gray-900 focus:ring-indigo-500",children:m.map(e=>(0,r.jsxs)("option",{value:e.id,className:"jsx-1fd619c208b3872 flex items-center gap-2",children:[(0,r.jsx)(x,{flag:e.flag}),e.name]},e.id))}),(0,r.jsx)(i(),{id:"1fd619c208b3872",children:"option.jsx-1fd619c208b3872{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:8px}svg.jsx-1fd619c208b3872{width:24px;height:16px;margin-right:8px}"})]}),(0,r.jsx)("div",{className:"space-y-4",children:p.options.map(e=>(0,r.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(j.id===e.id?"border-indigo-600 bg-indigo-50":"hover:border-gray-400"),onClick:()=>y(e),children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-600",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.estimatedDays})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"font-bold text-lg text-gray-600",children:[e.price," €"]}),j.id===e.id&&(0,r.jsx)("div",{className:"ml-4 h-5 w-5 text-indigo-600",children:(0,r.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})]})},e.id))})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Weiter zur Zahlung"})]}),3===t&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Zahlung"}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-xl mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-700 mb-4",children:["Gesamtbetrag: ",(0,r.jsxs)("span",{className:"font-bold text-xl",children:[D.toFixed(2)," €"]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Bitte w\xe4hlen Sie Ihre bevorzugte Zahlungsmethode:"})]}),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 relative",children:[u&&(0,r.jsx)("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center z-10",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),(0,r.jsx)(c.ag,{options:{clientId:"AYSq3RDGsmBLJE-otTkBtM-jBRd1TCQwFf9RGfwddNXWz0uFU9ztymylOhRS",currency:"EUR",intent:"capture"},children:(0,r.jsx)(c.JV,{style:{color:"blue",shape:"rect",label:"pay",height:50},disabled:u,createOrder:(s,a)=>a.order.create({intent:"CAPTURE",purchase_units:[{amount:{value:D.toFixed(2),currency_code:"EUR"},description:"MysteryBox Bestellung - ".concat(e.map(e=>e.name).join(", "))}]}),onApprove:async(s,r)=>{try{var t;g(!0);let s=await (null===(t=r.order)||void 0===t?void 0:t.capture());if(s){if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderDetails:{items:e,totalPrice:D,paypalOrderId:s.id},customerInfo:v})})).ok)throw Error("Failed to process order");sessionStorage.setItem("orderComplete","true"),a(),window.location.href="/checkout/success"}}catch(e){console.error("Error processing order:",e),alert("There was an error processing your order. Please try again.")}finally{g(!1)}}})})]})]})]})}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg h-fit",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Zusammenfassung"}),(0,r.jsxs)("div",{className:"space-y-4",children:[e.map(e=>(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("div",{className:"relative w-20 h-20",children:(0,r.jsx)(d.default,{src:e.image,alt:e.name,fill:!0,className:"rounded-lg object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Anzahl: ",e.quantity]}),(0,r.jsxs)("p",{className:"text-indigo-600 font-bold",children:[e.price," €"]})]})]},e.id)),(0,r.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 text-gray-700",children:[(0,r.jsx)("span",{children:"Zwischensumme"}),(0,r.jsxs)("span",{children:[s.toFixed(2)," €"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2 text-gray-700",children:[(0,r.jsx)("span",{children:"Versand"}),(0,r.jsxs)("span",{children:[j.price.toFixed(2)," €"]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold text-gray-900",children:[(0,r.jsx)("span",{children:"Gesamt"}),(0,r.jsxs)("span",{children:[D.toFixed(2)," €"]})]})]})]})]})]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[871,64,621,441,517,358],()=>s(4878)),_N_E=e.O()}]);